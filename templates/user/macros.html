{% macro book_list_table(caption, headers, rows, ids) %}
<table class="table table-hover">
  <caption>{{ caption }}</caption>
  <tr>
    {% for header in headers %}
    {% if header != "ID" %}
    <th scope="col">{{ header }}</th>
    {% endif %}
    {% endfor %}
    <th scope="col">Remove Book</th>
  </tr>
  {% for row in rows %}
  <tr>
    <th scope="row">{{ row[0] }}</th>
    <td>{{ row[1] }}</td>
    <td>{{ row[2] }}</td>
    <td class='text-center'>{{ row[3] }}
      <div id="changePoints">
        <button type="button" class="badge badge-pill badge-primary"
                              onclick="confirmChangePoints( '{{row[0]}}', {{ row[3]}}, {{row[5]}} )">
          Change
        </button>

      </div>
    </td>
    <td>{{ row[4] }}</td>
    <td>
      <div id="removeBook">
        <button type="button" class="btn btn-primary ml-2"
                              onclick="confirmRemoveBook({{ row[5] }})"> Remove
        </button>
      </div>
      <div class="modal" id="{{row[5]}}">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Confirm Removal</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="modalDismiss({{ row[5] }})">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <p>Are you sure you wish to remove {{ row[0] }}?</p>
            </div>
            <div class="modal-footer">
              <form action="/remove-from-user-library" method="GET">
                <input type="hidden" id="bookRem" name="bookRem" value="{{ row[5] }}">
                <input type="submit" value="Yes, Remove" class="btn btn-primary">
              </form>
              <button type="button" class="btn btn-secondary" data-dismiss="modal" onclick="modalDismiss({{ row[5] }})">
                Cancel</button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal" id="changePointsModal">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Confirm Change Points</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <p>You listed this copy of
              <span class='text-info' id='changePointsModalTitle'> 
              </span>
              for 
              <span class='text-info' id='changePointsModalPoints'>
              </span>.  How many points would you like to set it to now? (Maximum is 10 points)
              </p>
            </div>
            <div class='container align-self-center'>
                <div class='col-lg-4 offset-4'>
                  <form>
                    <div class='form-group'>
                      <input id='changePointsModalNewPoints' class='form-control form-control-sm' type='number' step='1', min='0' max='10' onkeyup="if(parseInt(this.value)>10){ this.value =10; return false; }"> 
                      </input>
                    </div>
                  </form>
                </div>
            </div>

            <div class="modal-footer">
              <form id='changePointsModalForm'>
                <button id='changePointsModalButton' type='button' class="btn btn-primary">
                  Change Points
                </button>
              </form>
              <button type="button" class="btn btn-secondary" data-dismiss="modal">
                Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </td>
    <!--                <td><i class="far fa-trash-alt" id="{{row[4]}}" onclick="confirmRemoveBook({{row[4]}})"></i></td>-->
  </tr>
  {% endfor %}
</table>

{%- endmacro %}
